{"ast":null,"code":"import NavDrawer from \"../views/NavDrawer.vue\";\nexport default {\n  name: \"messageView\",\n  components: {\n    NavDrawer\n    // FooterView,\n  },\n\n  data() {\n    return {\n      message: \"\"\n    };\n  },\n  methods: {\n    // sendMessage() {\n    //   this.students.forEach((student) => {\n    //     if (student.selected) {\n    //       student.receivedMessage = this.message;\n    //     }\n    //   });\n    // },\n    async sendMessage() {\n      if (window.ethereum) {\n        const contract = (await getSignerContract()).contract;\n        const result = await contract.sendAcceptedMessages();\n        if (result) {\n          this.path = \"StudentStatus\";\n        } else {\n          alert(\"not authorised\");\n        }\n      } else {\n        console.error(\"Ethereum provider not available in the browser.\");\n      }\n    },\n    sendMessageTwo() {\n      this.students.forEach(student => {\n        if (!student.selected) {\n          student.receivedMessage = this.message;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA2CA;AACA;EACAA;EACAC;IACAC;IACA;EACA;;EAEAC;IACA;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;QACA;QACA;QACA;UACA;QACA;UACAC;QACA;MACA;QACAC;MACA;IACA;IACAC;MACA;QACA;UACAC;QACA;MACA;IACA;EACA;AACA","names":["name","components","NavDrawer","data","message","methods","alert","console","sendMessageTwo","student"],"sourceRoot":"src/components","sources":["messageView.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-app-bar absolute></v-app-bar>\n\n    <NavDrawer />\n    <v-container class=\"fill-height\" fluid>\n      <div>\n        <v-row class=\"mt-15\">\n          <v-col cols=\"12\">\n            <v-textarea\n              class=\"textarea\"\n              outlined\n              label=\"A message to selected students\"\n            ></v-textarea>\n          </v-col>\n        </v-row>\n        <v-btn @click=\"sendMessage()\" class=\"mb-2\">Send Message</v-btn>\n        <v-row>\n          <v-col cols=\"12\">\n            <v-textarea\n              class=\"textarea\"\n              outlined\n              label=\"A message to non-selected students\"\n            ></v-textarea>\n          </v-col>\n        </v-row>\n        <v-btn @click=\"sendMessageTwo()\">Send Message</v-btn>\n\n        <div>\n          <tbody>\n            <tr v-for=\"student in students\" :key=\"student.name\">\n              {{student.name}}:\n              <span v-if=\"student.receivedMessage\">\n                {{student.receivedMessage}}</span>\n            </tr>\n          </tbody>\n        </div>\n      </div>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport NavDrawer from \"../views/NavDrawer.vue\";\nexport default {\n  name: \"messageView\",\n  components: {\n    NavDrawer,\n    // FooterView,\n  },\n\n  data() {\n    return {\n      message: \"\",\n    };\n  },\n  methods: {\n    // sendMessage() {\n    //   this.students.forEach((student) => {\n    //     if (student.selected) {\n    //       student.receivedMessage = this.message;\n    //     }\n    //   });\n    // },\n     async sendMessage() {\n      if (window.ethereum) {\n        const contract = (await getSignerContract()).contract;\n        const result = await contract.sendAcceptedMessages();\n        if (result) {\n          this.path = \"StudentStatus\";\n        } else {\n          alert(\"not authorised\");\n        }\n      } else {\n        console.error(\"Ethereum provider not available in the browser.\");\n      }\n    },\n    sendMessageTwo() {\n      this.students.forEach((student) => {\n        if (!student.selected) {\n          student.receivedMessage = this.message;\n        }\n      });\n    },\n  },\n};\n</script>\n<style scoped>\n.textarea {\n  width: 500px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}